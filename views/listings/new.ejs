<% layout("/layouts/boilerplate") %>

<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-9 col-lg-7 col-xl-6">

      <div class="card shadow-sm border-0 rounded-4">
        <div class="card-body p-4 p-md-5">

          <!-- Header -->
          <div class="mb-4">
            <h2 class="fw-bold mb-2">Create a New Listing</h2>
            <p class="text-muted mb-0">
              Add hostel details to publish your listing.
            </p>
          </div>

          <form 
            action="/listings" 
            method="POST" 
            class="needs-validation" 
            novalidate 
            enctype="multipart/form-data"
          >

            <!-- Title -->
            <div class="mb-4">
              <label for="title" class="form-label fw-semibold mb-2">Title</label>
              <input
                id="title"
                class="form-control"
                name="listing[title]"
                type="text"
                placeholder="Enter title"
                required
              >
              <div class="invalid-feedback">
                Please enter a title.
              </div>
            </div>

            <!-- Description -->
            <div class="mb-4">
              <label for="description" class="form-label fw-semibold mb-2">Description</label>
              <textarea
                id="description"
                class="form-control"
                name="listing[description]"
                rows="4"
                placeholder="Enter description"
                required
              ></textarea>
              <div class="invalid-feedback">
                Please enter a description.
              </div>
            </div>

            <!-- Image -->
            <div class="mb-4">
              <label for="image" class="form-label fw-semibold mb-2">Image</label>
              <input
                id="image"
                class="form-control"
                name="image"
                type="file"
              >
            </div>

            <!-- Category -->
            <div class="mb-4">
              <label for="category" class="form-label fw-semibold mb-2">Category</label>
              <select 
                class="form-select" 
                id="category" 
                name="listing[category]" 
                required
              >
                <option value="">Select category</option>
                <option value="trending">Trending</option>
                <option value="cities">Iconic Cities</option>
                <option value="mountains">Mountains</option>
                <option value="pools">Amazing Pools</option>
                <option value="beach">Beach</option>
                <option value="countryside">Countryside</option>
                <option value="luxe">Luxe</option>
                <option value="heritage">Heritage</option>
                <option value="farmstay">Farm Stay</option>
                <option value="camping">Camping</option>
              </select>
              <div class="invalid-feedback">
                Please select a category.
              </div>
            </div>

            <!-- Price -->
            <div class="mb-4">
              <label for="price" class="form-label fw-semibold mb-2">Price (â‚¹)</label>
              <input
                id="price"
                class="form-control"
                name="listing[price]"
                type="number"
                min="0"
                placeholder="Enter price"
                required
              >
              <div class="invalid-feedback">
                Please enter a valid price.
              </div>
            </div>

            <!-- Location -->
            <div class="mb-4">
              <label for="location" class="form-label fw-semibold mb-2">Location</label>
              <input
                id="location"
                class="form-control"
                name="listing[location]"
                type="text"
                placeholder="Enter location"
                required
              >
              <div class="invalid-feedback">
                Please enter a location.
              </div>
            </div>

            <!-- Country -->
            <div class="mb-5">
              <label for="country" class="form-label fw-semibold mb-2">Country</label>
              <input
                id="country"
                class="form-control"
                name="listing[country]"
                type="text"
                placeholder="Enter country"
                required
              >
              <div class="invalid-feedback">
                Please enter a country.
              </div>
            </div>

            <!-- Buttons -->
            <div class="d-flex gap-3">
              <button 
                class="btn btn-danger w-100 fw-semibold py-2" 
                type="submit"
              >
                Add Listing
              </button>

              <a 
                class="btn btn-outline-secondary w-100 py-2" 
                href="/listings"
              >
                Cancel
              </a>
            </div>

          </form>

        </div>
      </div>

    </div>
  </div>
</div>
